{"ast":null,"code":"import { DAYS } from '../helpers';\nconst initialState = {\n  is_absences_layer: false,\n  is_time_layer: false,\n  billing_period_type: \"MONTH\",\n  billing_period: \"2020-Q1\",\n\n  /* 2020-01 */\n  daily_time: \"12:00\",\n  daily_break: \"13:00\",\n  weekly_break: \"35:00\",\n  free_days: {\n    mon: null,\n    tue: null,\n    wed: null,\n    thu: null,\n    fri: null,\n    sat: {\n      index: \"SB\",\n      permanent: false\n    },\n    sun: {\n      index: \"ND\",\n      permanent: true\n    }\n  },\n  shifts_crew: {\n    sun: {\n      shift_1: 0,\n      shift_2: 0\n    },\n    mon: {\n      shift_1: 5,\n      shift_2: 5\n    },\n    tue: {\n      shift_1: 4,\n      shift_2: 4\n    },\n    wed: {\n      shift_1: 5,\n      shift_2: 4\n    },\n    thu: {\n      shift_1: 4,\n      shift_2: 4\n    },\n    fri: {\n      shift_1: 4,\n      shift_2: 4\n    },\n    sat: {\n      shift_1: 5,\n      shift_2: 4\n    }\n  }\n};\n\nconst settingsReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case 'DAILY_TIME':\n      {\n        return { ...state,\n          daily_time: action.value\n        };\n      }\n\n    case 'DAILY_BREAK':\n      {\n        return { ...state,\n          daily_break: action.value\n        };\n      }\n\n    case 'WEEKLY_BREAK':\n      {\n        return { ...state,\n          weekly_break: action.value\n        };\n      }\n\n    case 'FREE_DAYS':\n      {\n        let free_days = state.free_days;\n\n        if (DAYS.includes(action.key)) {\n          if (action.value === true) {\n            free_days[action.key] = {\n              index: `${action.key.toUpperCase()}`,\n              permanent: true\n            };\n          } else {\n            free_days[action.key] = null;\n          }\n        }\n\n        return { ...state,\n          free_days\n        };\n      }\n\n    case 'FREE_DAYS_INDEX':\n      {\n        let free_days = state.free_days;\n\n        if (DAYS.includes(action.key)) {\n          free_days[action.key].index = action.value;\n        }\n\n        return { ...state,\n          free_days\n        };\n      }\n\n    case 'FREE_DAYS_PERMANENT':\n      {\n        let free_days = state.free_days;\n\n        if (DAYS.includes(action.key)) {\n          free_days[action.key].permanent = action.value;\n        }\n\n        return { ...state,\n          free_days\n        };\n      }\n\n    case 'SHIFTS_CREW':\n      {\n        let shifts_crew = state.shifts_crew;\n\n        if (DAYS.includes(action.key)) {\n          shifts_crew[action.key][action.shift] = action.value;\n        }\n\n        return { ...state,\n          shifts_crew\n        };\n      }\n\n    case 'ABSENCES':\n      {\n        state.is_absences_layer = !state.is_absences_layer;\n        state.is_time_layer = false;\n        return { ...state\n        };\n      }\n\n    case 'BILLING_PERIOD_TYPE':\n      {\n        let billing_period = \"2020-01\";\n\n        if (action.value === \"QUARTER\") {\n          billing_period = \"2020-Q1\";\n        }\n\n        return { ...state,\n          billing_period_type: action.value\n        };\n      }\n\n    case 'BILLING_PERIOD':\n      {\n        return { ...state,\n          billing_period: action.value\n        };\n      }\n\n    case 'WORK_TIME':\n      {\n        state.is_absences_layer = false;\n        state.is_time_layer = !state.is_time_layer;\n        return { ...state\n        };\n      }\n\n    default:\n      return state;\n  }\n};\n\nexport default settingsReducer;","map":{"version":3,"sources":["/home/tomek/projects/carrot-hr/src/reducers/settings.js"],"names":["DAYS","initialState","is_absences_layer","is_time_layer","billing_period_type","billing_period","daily_time","daily_break","weekly_break","free_days","mon","tue","wed","thu","fri","sat","index","permanent","sun","shifts_crew","shift_1","shift_2","settingsReducer","state","action","type","value","includes","key","toUpperCase","shift"],"mappings":"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","sourcesContent":["import { DAYS } from '../helpers'\n\nconst initialState = {\n\tis_absences_layer: false,\n\tis_time_layer: false,\n\tbilling_period_type: \"MONTH\",\n\tbilling_period: \"2020-Q1\", /* 2020-01 */\n\tdaily_time: \"12:00\",\n\tdaily_break: \"13:00\",\n\tweekly_break: \"35:00\",\n\tfree_days: {\n\t\tmon: null,\n\t\ttue: null,\n\t\twed: null,\n\t\tthu: null,\n\t\tfri: null,\n\t\tsat: { index: \"SB\", permanent: false},\n\t\tsun: { index: \"ND\", permanent: true},\n\t},\n\tshifts_crew: {\n\t\tsun: {\n\t\t\tshift_1: 0,\n\t\t\tshift_2: 0,\n\t\t},\n\t\tmon: {\n\t\t\tshift_1: 5,\n\t\t\tshift_2: 5,\n\t\t},\n\t\ttue: {\n\t\t\tshift_1: 4,\n\t\t\tshift_2: 4,\n\t\t},\n\t\twed: {\n\t\t\tshift_1: 5,\n\t\t\tshift_2: 4,\n\t\t},\n\t\tthu: {\n\t\t\tshift_1: 4,\n\t\t\tshift_2: 4,\n\t\t},\n\t\tfri: {\n\t\t\tshift_1: 4,\n\t\t\tshift_2: 4,\n\t\t},\n\t\tsat: {\n\t\t\tshift_1: 5,\n\t\t\tshift_2: 4,\n\t\t},\n\t}\n}\n\nconst settingsReducer = ( state = initialState, action ) => {\n\tswitch ( action.type ) {\n\t\tcase 'DAILY_TIME': {\n\t\t\treturn { ...state, daily_time: action.value }\n\t\t}\n\t\tcase 'DAILY_BREAK': {\n\t\t\treturn { ...state, daily_break: action.value }\n\t\t}\n\t\tcase 'WEEKLY_BREAK': {\n\t\t\treturn { ...state, weekly_break: action.value }\n\t\t}\n\t\tcase 'FREE_DAYS': {\n\t\t\tlet free_days = state.free_days;\n\t\t\tif ( DAYS.includes(action.key) ) {\n\t\t\t\tif ( action.value === true ) {\n\t\t\t\t\tfree_days[ action.key ] = { index: `${action.key.toUpperCase()}`, permanent: true };\n\t\t\t\t} else {\n\t\t\t\t\tfree_days[ action.key ] = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn { ...state, free_days }\n\t\t}\n\t\tcase 'FREE_DAYS_INDEX': {\n\t\t\tlet free_days = state.free_days;\n\t\t\tif ( DAYS.includes(action.key) ) {\n\t\t\t\tfree_days[ action.key ].index = action.value;\n\t\t\t}\n\t\t\treturn { ...state, free_days }\n\t\t}\n\t\tcase 'FREE_DAYS_PERMANENT': {\n\t\t\tlet free_days = state.free_days;\n\t\t\tif ( DAYS.includes(action.key) ) {\n\t\t\t\tfree_days[ action.key ].permanent = action.value;\n\t\t\t}\n\t\t\treturn { ...state, free_days }\n\t\t}\n\t\tcase 'SHIFTS_CREW': {\n\t\t\tlet shifts_crew = state.shifts_crew;\n\t\t\tif ( DAYS.includes(action.key) ) {\n\t\t\t\tshifts_crew[ action.key ][ action.shift ] = action.value;\n\t\t\t}\n\t\t\treturn { ...state, shifts_crew }\n\t\t}\n\t\tcase 'ABSENCES': {\n\t\t\tstate.is_absences_layer = ! state.is_absences_layer\n\t\t\tstate.is_time_layer = false\n\t\t\treturn { ...state }\n\t\t}\n\t\tcase 'BILLING_PERIOD_TYPE': {\n\t\t\tlet billing_period = \"2020-01\";\n\t\t\tif( action.value === \"QUARTER\" ) {\n\t\t\t\tbilling_period = \"2020-Q1\";\n\t\t\t}\n\t\t\treturn { ...state, billing_period_type: action.value }\n\t\t}\n\t\tcase 'BILLING_PERIOD': {\n\t\t\treturn { ...state, billing_period: action.value }\n\t\t}\n\t\tcase 'WORK_TIME': {\n\t\t\tstate.is_absences_layer = false\n\t\t\tstate.is_time_layer = ! state.is_time_layer\n\t\t\treturn { ...state }\n\t\t}\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n\nexport default settingsReducer;\n"]},"metadata":{},"sourceType":"module"}