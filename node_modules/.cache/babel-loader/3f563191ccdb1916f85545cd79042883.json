{"ast":null,"code":"var _jsxFileName = \"/home/tomek/projects/carrot-hr/src/components/Schedule.js\";\nimport React, { useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Modal, Container, Row, Col, Button, Form, Table } from 'react-bootstrap';\nimport { getDayShortName, getDatesFromPeriod } from '../helpers';\n\nconst moment = require('moment');\n\nconst EmployeeModal = props => {\n  var _props$employee, _props$employee2, _props$employee3, _props$employee4;\n\n  const dispatch = useDispatch();\n  return /*#__PURE__*/React.createElement(Modal, {\n    show: props.modalShow,\n    onHide: props.onHide,\n    size: \"lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Header, {\n    closeButton: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 5\n    }\n  }, \"Panel - \", (_props$employee = props.employee) === null || _props$employee === void 0 ? void 0 : _props$employee.signature)), /*#__PURE__*/React.createElement(Modal.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    className: \"show-grid align-items-center mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    sm: 6,\n    lg: 8,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 7\n    }\n  }, \" Dane personalne: \"), /*#__PURE__*/React.createElement(Col, {\n    sm: 6,\n    lg: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    value: (_props$employee2 = props.employee) === null || _props$employee2 === void 0 ? void 0 : _props$employee2.signature,\n    onChange: e => dispatch({\n      type: 'EMPLOYEE_UPDATE',\n      id: props.employee_id,\n      field: 'signature',\n      value: e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 8\n    }\n  }))), /*#__PURE__*/React.createElement(Row, {\n    className: \"show-grid align-items-center mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    sm: 6,\n    lg: 8,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }\n  }, \" Wymiar czasu pracy: \"), /*#__PURE__*/React.createElement(Col, {\n    sm: 6,\n    lg: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Form.Control, {\n    as: \"select\",\n    value: (_props$employee3 = props.employee) === null || _props$employee3 === void 0 ? void 0 : _props$employee3.time_contract,\n    onChange: e => dispatch({\n      type: 'EMPLOYEE_UPDATE',\n      id: props.employee_id,\n      field: 'time_contract',\n      value: e.target.value\n    }),\n    custom: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 9\n    }\n  }, \"Pe\\u0142ny etat\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: 0.75,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 9\n    }\n  }, \"3/4 etatu\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: 0.5,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }\n  }, \"P\\xF3\\u0142 etatu\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: 0.25,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }\n  }, \"\\u0106wier\\u0107 etatu\")))), /*#__PURE__*/React.createElement(Row, {\n    className: \"show-grid align-items-center mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    sm: 6,\n    lg: 8,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }\n  }, \" Stanowisko: \"), /*#__PURE__*/React.createElement(Col, {\n    sm: 6,\n    lg: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    value: (_props$employee4 = props.employee) === null || _props$employee4 === void 0 ? void 0 : _props$employee4.role,\n    onChange: e => dispatch({\n      type: 'EMPLOYEE_UPDATE',\n      id: props.employee_id,\n      field: 'role',\n      value: e.target.value.toUpperCase()\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 8\n    }\n  }))))), /*#__PURE__*/React.createElement(Modal.Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"danger\",\n    onClick: props.onHide,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 5\n    }\n  }, \" Usu\\u0144 \"), /*#__PURE__*/React.createElement(Button, {\n    onClick: props.onHide,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 5\n    }\n  }, \" Zamknij \")));\n};\n\nconst ScheduleCell = React.memo(props => {\n  return /*#__PURE__*/React.createElement(\"td\", {\n    className: \"text-center align-middle p-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(Form.Control, {\n    className: \"carrotHR__input\",\n    type: \"text\",\n    size: \"sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(Form.Control, {\n    className: \"carrotHR__input\",\n    type: \"text\",\n    size: \"sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 4\n    }\n  }));\n});\nconst ScheduleRow = React.memo(props => {\n  const {\n    billing_period\n  } = useSelector(state => state.settings);\n  return /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 4\n    }\n  }, props.no), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"text-nowrap\",\n    onClick: props.onSignatureClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 4\n    }\n  }, props.employee.signature), getDatesFromPeriod(billing_period).map(date => {\n    return /*#__PURE__*/React.createElement(ScheduleCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 5\n      }\n    });\n  }));\n});\n\nfunction Schedule() {\n  const [modalShow, setModalShow] = useState(false);\n  const [modalEmployeeID, setModalEmployeeID] = useState(0);\n  const dispatch = useDispatch();\n  const {\n    schedules\n  } = useSelector(state => state.schedules);\n  const {\n    billing_period\n  } = useSelector(state => state.settings);\n  const dates = useSelector(state => state.dates);\n  const employees = useSelector(state => state.employees);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(EmployeeModal, {\n    employee: employees[modalEmployeeID],\n    employee_id: modalEmployeeID,\n    modalShow: modalShow,\n    onHide: () => setModalShow(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 3\n    }\n  }), /*#__PURE__*/React.createElement(Table, {\n    className: \"carrotHR__table mb-0\",\n    striped: true,\n    bordered: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 6\n    }\n  }, \"#\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"carrotHR__signature\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 6\n    }\n  }, \"Pracownik\"), getDatesFromPeriod(billing_period).map(date => {\n    return /*#__PURE__*/React.createElement(\"th\", {\n      className: \"text-nowrap text-center p-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"px-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 8\n      }\n    }, moment(date).format('MM-DD')), /*#__PURE__*/React.createElement(\"hr\", {\n      className: \"m-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 70\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"px-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 8\n      }\n    }, getDayShortName(moment(date).format('ddd').toLowerCase())));\n  }))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 4\n    }\n  }, Object.entries(employees).map(([employee_id, employee], i) => {\n    return /*#__PURE__*/React.createElement(ScheduleRow, {\n      no: i + 1,\n      employee: employee,\n      employee_id: employee_id,\n      onSignatureClick: () => {\n        setModalEmployeeID(employee_id);\n        setModalShow(true);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 6\n      }\n    });\n  }), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 6\n    }\n  }, \"#\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"text-nowrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    size: \"sm\",\n    placeholder: \"DODAJ PRACOWNIKA\",\n    onKeyDown: e => {\n      e.key === 'Enter' ? (() => {\n        dispatch({\n          type: 'EMPLOYEE_CREATE',\n          value: e.target.value\n        });\n        e.target.value = \"\";\n      })() : (() => {})();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }\n  })), getDatesFromPeriod(billing_period).map(date => {\n    return /*#__PURE__*/React.createElement(\"td\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 7\n      }\n    }, \" \");\n  })))));\n}\n\nexport default Schedule;","map":{"version":3,"sources":["/home/tomek/projects/carrot-hr/src/components/Schedule.js"],"names":["React","useState","useSelector","useDispatch","Modal","Container","Row","Col","Button","Form","Table","getDayShortName","getDatesFromPeriod","moment","require","EmployeeModal","props","dispatch","modalShow","onHide","employee","signature","e","type","id","employee_id","field","value","target","time_contract","role","toUpperCase","ScheduleCell","memo","ScheduleRow","billing_period","state","settings","no","onSignatureClick","map","date","Schedule","setModalShow","modalEmployeeID","setModalEmployeeID","schedules","dates","employees","format","toLowerCase","Object","entries","i","key"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Modal, Container, Row, Col, Button, Form, Table } from 'react-bootstrap';\nimport { getDayShortName, getDatesFromPeriod } from '../helpers'\n\nconst moment = require('moment')\n\nconst EmployeeModal = (props) => {\n\tconst dispatch = useDispatch();\n\n\treturn (\n\t\t<Modal show={ props.modalShow } onHide={ props.onHide } size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>\n\t\t\t\t\tPanel - { props.employee?.signature }\n\t\t\t\t</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<Container>\n\t\t\t\t\t<Row className=\"show-grid align-items-center mb-2\">\n\t\t\t\t\t\t<Col sm={6} lg={8}> Dane personalne: </Col>\n\t\t\t\t\t\t<Col sm={6} lg={4}>\n\t\t\t\t\t\t\t<Form.Control type=\"text\" value={ props.employee?.signature } onChange={ (e) => dispatch({ type: 'EMPLOYEE_UPDATE', id: props.employee_id, field: 'signature', value: e.target.value })}/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t\t<Row className=\"show-grid align-items-center mb-2\">\n\t\t\t\t\t\t<Col sm={6} lg={8}> Wymiar czasu pracy: </Col>\n\t\t\t\t\t\t<Col sm={6} lg={4}>\n\t\t\t\t\t\t\t<Form.Control as=\"select\" value={ props.employee?.time_contract } onChange={ (e) => dispatch({ type: 'EMPLOYEE_UPDATE', id: props.employee_id, field: 'time_contract', value: e.target.value })} custom>\n\t\t\t\t\t\t\t\t<option value={1}>Pełny etat</option>\n\t\t\t\t\t\t\t\t<option value={0.75}>3/4 etatu</option>\n\t\t\t\t\t\t\t\t<option value={0.5}>Pół etatu</option>\n\t\t\t\t\t\t\t\t<option value={0.25}>Ćwierć etatu</option>\n\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t\t<Row className=\"show-grid align-items-center mb-2\">\n\t\t\t\t\t\t<Col sm={6} lg={8}> Stanowisko: </Col>\n\t\t\t\t\t\t<Col sm={6} lg={4}>\n\t\t\t\t\t\t\t<Form.Control type=\"text\" value={ props.employee?.role } onChange={ (e) => dispatch({ type: 'EMPLOYEE_UPDATE', id: props.employee_id, field: 'role', value: e.target.value.toUpperCase() })}/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Container>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"danger\" onClick={ props.onHide }> Usuń </Button>\n\t\t\t\t<Button onClick={ props.onHide }> Zamknij </Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t)\n}\n\nconst ScheduleCell = React.memo((props) => {\n\treturn (\n\t\t<td className=\"text-center align-middle p-0\">\n\t\t\t<Form.Control className=\"carrotHR__input\" type=\"text\" size=\"sm\"/>\n\t\t\t<Form.Control className=\"carrotHR__input\" type=\"text\" size=\"sm\"/>\n\t\t</td>\n\t)\n});\n\nconst ScheduleRow = React.memo((props) => {\n\tconst { billing_period } = useSelector( state => state.settings );\n\n\treturn (\n\t\t<tr>\n\t\t\t<th className=\"text-center\">{ props.no }</th>\n\t\t\t<th className=\"text-nowrap\" onClick={ props.onSignatureClick }>{ props.employee.signature }</th>\n\t\t\t{ getDatesFromPeriod( billing_period ).map(date => { return (\n\t\t\t\t<ScheduleCell />\n\t\t\t)}) }\n\t\t</tr>\n\t)\n})\n\nfunction Schedule() {\n\tconst [modalShow, setModalShow] = useState(false);\n\tconst [modalEmployeeID, setModalEmployeeID] = useState(0)\n\tconst dispatch = useDispatch();\n\tconst { schedules } = useSelector( state => state.schedules );\n\tconst { billing_period } = useSelector( state => state.settings );\n\tconst dates = useSelector( state => state.dates );\n\tconst employees = useSelector( state => state.employees );\n\n\treturn ( <>\n\t\t<EmployeeModal employee={ employees[ modalEmployeeID ] } employee_id={ modalEmployeeID } modalShow={ modalShow } onHide={ () => setModalShow(false) }/>\n\t\t<Table className=\"carrotHR__table mb-0\" striped bordered>\n\t\t\t<thead>\n\t\t\t\t<tr>\n\t\t\t\t\t<th>#</th>\n\t\t\t\t\t<th className=\"carrotHR__signature\">Pracownik</th>\n\t\t\t\t\t{ getDatesFromPeriod( billing_period ).map(date => { return (\n\t\t\t\t\t\t<th className=\"text-nowrap text-center p-0\">\n\t\t\t\t\t\t\t<span className=\"px-3\">{ moment(date).format('MM-DD') }</span><hr className=\"m-0\"/>\n\t\t\t\t\t\t\t<span className=\"px-3\">{ getDayShortName( moment(date).format('ddd').toLowerCase() ) }</span>\n\t\t\t\t\t\t</th>\n\t\t\t\t\t)}) }\n\t\t\t\t</tr>\n\t\t\t</thead>\n\t\t\t<tbody>\n\t\t\t\t{ Object.entries(employees).map(([employee_id, employee], i) => { return (\n\t\t\t\t\t<ScheduleRow no={ i + 1 } employee={ employee } employee_id={ employee_id } onSignatureClick={ () => { setModalEmployeeID( employee_id ); setModalShow(true) } }/>\n\t\t\t\t)})}\n\t\t\t\t<tr>\n\t\t\t\t\t<th className=\"text-center\">#</th>\n\t\t\t\t\t<th className=\"text-nowrap\">\n\t\t\t\t\t\t<Form.Control type=\"text\" size=\"sm\" placeholder=\"DODAJ PRACOWNIKA\" onKeyDown={ (e) => { ( e.key === 'Enter' ) ? (() => { dispatch({ type: 'EMPLOYEE_CREATE', value: e.target.value }); e.target.value = \"\"; })() : (() => {})() } }/>\n\t\t\t\t\t</th>\n\t\t\t\t\t{ getDatesFromPeriod( billing_period ).map(date => { return (\n\t\t\t\t\t\t<td className=\"text-center\"> </td>\n\t\t\t\t\t)}) }\n\t\t\t\t</tr>\n\t\t\t</tbody>\n\t\t</Table>\n\t</> );\n}\n\nexport default Schedule;\n"]},"metadata":{},"sourceType":"module"}